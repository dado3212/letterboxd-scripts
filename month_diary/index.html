
    <!DOCTYPE html>
    <html>
    <head>
        <title>Letterboxd Diary Month</title>
        <style>
            body {
                background-color: rgb(20, 24, 28);
                color: rgb(85, 102, 119);

                display: grid;
                justify-content: center;
                gap: 10px;
                margin: 20px 0;
                
                font-size: 1.2em;
            }

            .movie {
                position: relative;
            }

            .title {
                display: none;
            }

            img.poster {
                width: 100%;
                border-radius: 4px;
                border: 1px solid #ddeeff96;
            }

            .liked {
                display: inline-block;
                transform: scaleX(1.3);
                position: relative;
                bottom: 4px;
                right: -3px;
            }

            .rating {
                position: relative;
                top: -5px;
            }

            .rewatched {
                position: absolute;
                top: 0px;
                right: -2px;
                font-size: 30px;
                padding: 2px 2px 4px 4px;
                background: linear-gradient(45deg, transparent 0%, transparent 50%, rgb(0 0 0 / 77%) 53%, #1A5AB6 53%, #1A5AB6 100%);
                width: 40px;
                height: 42px;
                color: white;
                border-top-right-radius: 4px;
                text-align: right;
                vertical-align: top;
                line-height: 16px;
        }
        </style>
        <script>
            // Function to calculate the grid layout
            function calculateGridLayout() {
                const screenWidth = window.innerWidth - 30;
                const screenHeight = window.innerHeight - 70;

                const elementWidth = 30;
                const elementHeight = 45;
                const padding = 10;
                const verticalAdd = 27;
                const elementAspectRatio = elementWidth / elementHeight;

                let isHorizontalLayout = true;

                // Determine if the screen is taller than the element
                if (screenWidth / screenHeight < elementAspectRatio) {
                    isHorizontalLayout = false;
                }

                let minRow, maxRow, optimalColumns, optimalWidth, width, height;
    let numMovies = 8
                if (isHorizontalLayout) {
                    minRow = 1
                    maxRow = Math.floor(Math.sqrt(numMovies));
                } else {
                    minRow = Math.floor(Math.sqrt(numMovies)) - 1;
                    maxRow = numMovies;
                }

                let coverage = 0;
                for (var rows = minRow; rows <= maxRow; rows++) {
                    let columns = Math.ceil(numMovies / rows);

                    let maxSizedWidth = (screenWidth - (columns - 1) * padding) / columns;
                    let maxSizedHeight = (screenHeight - (rows - 1) * padding - rows * verticalAdd) / rows;

                    if (maxSizedWidth * elementHeight / elementWidth < maxSizedHeight) {
                        width = maxSizedWidth;
                        height = maxSizedWidth * elementHeight / elementWidth;
                    } else {
                        width = maxSizedHeight * elementWidth / elementHeight;
                        height = maxSizedHeight;
                    }

                    const currentCoverage = (width * columns) * (height * rows) / (screenWidth * screenHeight);

                    if (currentCoverage > coverage) {
                        coverage = currentCoverage;
                        optimalColumns = columns;
                        optimalWidth = width;
                    }
                }

                document.body.style.gridTemplateColumns = 'repeat(' + optimalColumns + ', auto)';
                document.querySelectorAll('.movie').forEach(element => {
                    element.style.width = optimalWidth + 'px';
                });
            }

            // Call the function on page load
            window.addEventListener('load', calculateGridLayout);
            // and reload
            window.addEventListener('resize', calculateGridLayout);
        </script>
    </head>
    <body>
    
            <div class='movie'>
            <span class='title'>Near Dark</span>
            <img class='poster' src='https://a.ltrbxd.com/resized/film-poster/4/4/9/2/4/44924-near-dark-0-2000-0-3000-crop.jpg?v=1d3a4a8169'>
            <span class='rating'>★★½</span>
        <span class='liked'>♥</span></div>

            <div class='movie'>
            <span class='title'>GoodFellas</span>
            <img class='poster' src='https://a.ltrbxd.com/resized/film-poster/5/1/3/8/3/51383-goodfellas-0-2000-0-3000-crop.jpg?v=c6c265f228'>
            <span class='rating'>★★★½</span>
        </div>

            <div class='movie'>
            <span class='title'>Apollo 13</span>
            <img class='poster' src='https://a.ltrbxd.com/resized/film-poster/5/1/5/5/1/51551-apollo-13-0-2000-0-3000-crop.jpg?v=256e0eeb8f'>
            <span class='rating'>★★★½</span>
        <span class='liked'>♥</span><span class='rewatched'>⟳</span></div>

            <div class='movie'>
            <span class='title'>Flight Risk</span>
            <img class='poster' src='https://a.ltrbxd.com/resized/film-poster/1/0/1/4/7/0/4/1014704-flight-risk-0-2000-0-3000-crop.jpg?v=ac6317258c'>
            <span class='rating'>★½</span>
        </div>

            <div class='movie'>
            <span class='title'>Mikey and Nicky</span>
            <img class='poster' src='https://a.ltrbxd.com/resized/film-poster/7/2/1/1/7211-mikey-and-nicky-0-2000-0-3000-crop.jpg?v=2473a05d8b'>
            <span class='rating'>★★★★½</span>
        <span class='liked'>♥</span></div>

            <div class='movie'>
            <span class='title'>Mr. & Mrs. Smith</span>
            <img class='poster' src='https://a.ltrbxd.com/resized/film-poster/5/1/3/6/5/51365-mr-mrs-smith-0-2000-0-3000-crop.jpg?v=90968fbbd9'>
            <span class='rating'>★★★½</span>
        <span class='liked'>♥</span><span class='rewatched'>⟳</span></div>

            <div class='movie'>
            <span class='title'>Sinners</span>
            <img class='poster' src='https://a.ltrbxd.com/resized/film-poster/1/1/1/6/6/0/0/1116600-sinners-2025-0-2000-0-3000-crop.jpg?v=00ce32e0ba'>
            <span class='rating'>★★★★</span>
        <span class='liked'>♥</span></div>

            <div class='movie'>
            <span class='title'>Joy Ride</span>
            <img class='poster' src='https://a.ltrbxd.com/resized/film-poster/7/7/8/1/1/7/778117-joy-ride-0-2000-0-3000-crop.jpg?v=9f76a25e25'>
            <span class='rating'>★★</span>
        </div>
</body>
</html>