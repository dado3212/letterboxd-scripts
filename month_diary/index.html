
    <!DOCTYPE html>
    <html>
    <head>
        <title>Letterboxd Diary Month</title>
        <style>
            body {
                background-color: rgb(20, 24, 28);
                color: rgb(85, 102, 119);

                display: grid;
                justify-content: center;
                gap: 10px;
                margin: 20px 0;
                
                font-size: 1.2em;
            }

            .movie {
                position: relative;
            }

            .title {
                display: none;
            }

            img.poster {
                width: 100%;
                border-radius: 4px;
                border: 1px solid #ddeeff96;
            }

            .liked {
                display: inline-block;
                transform: scaleX(1.3);
                position: relative;
                bottom: 4px;
                right: -3px;
            }

            .rating {
                position: relative;
                top: -5px;
            }

            .rewatched {
                position: absolute;
                top: 0px;
                right: -2px;
                font-size: 30px;
                padding: 2px 2px 4px 4px;
                background: linear-gradient(45deg, transparent 0%, transparent 50%, rgb(0 0 0 / 77%) 53%, #1A5AB6 53%, #1A5AB6 100%);
                width: 40px;
                height: 42px;
                color: white;
                border-top-right-radius: 4px;
                text-align: right;
                vertical-align: top;
                line-height: 16px;
        }
        </style>
        <script>
            // Function to calculate the grid layout
            function calculateGridLayout() {
                const screenWidth = window.innerWidth - 30;
                const screenHeight = window.innerHeight - 70;

                const elementWidth = 30;
                const elementHeight = 45;
                const padding = 10;
                const verticalAdd = 27;
                const elementAspectRatio = elementWidth / elementHeight;

                let isHorizontalLayout = true;

                // Determine if the screen is taller than the element
                if (screenWidth / screenHeight < elementAspectRatio) {
                    isHorizontalLayout = false;
                }

                let minRow, maxRow, optimalColumns, optimalWidth, width, height;
    let numMovies = 8
                if (isHorizontalLayout) {
                    minRow = 1
                    maxRow = Math.floor(Math.sqrt(numMovies));
                } else {
                    minRow = Math.floor(Math.sqrt(numMovies)) - 1;
                    maxRow = numMovies;
                }

                let coverage = 0;
                for (var rows = minRow; rows <= maxRow; rows++) {
                    let columns = Math.ceil(numMovies / rows);

                    let maxSizedWidth = (screenWidth - (columns - 1) * padding) / columns;
                    let maxSizedHeight = (screenHeight - (rows - 1) * padding - rows * verticalAdd) / rows;

                    if (maxSizedWidth * elementHeight / elementWidth < maxSizedHeight) {
                        width = maxSizedWidth;
                        height = maxSizedWidth * elementHeight / elementWidth;
                    } else {
                        width = maxSizedHeight * elementWidth / elementHeight;
                        height = maxSizedHeight;
                    }

                    const currentCoverage = (width * columns) * (height * rows) / (screenWidth * screenHeight);

                    if (currentCoverage > coverage) {
                        coverage = currentCoverage;
                        optimalColumns = columns;
                        optimalWidth = width;
                    }
                }

                document.body.style.gridTemplateColumns = 'repeat(' + optimalColumns + ', auto)';
                document.querySelectorAll('.movie').forEach(element => {
                    element.style.width = optimalWidth + 'px';
                });
            }

            // Call the function on page load
            window.addEventListener('load', calculateGridLayout);
            // and reload
            window.addEventListener('resize', calculateGridLayout);
        </script>
    </head>
    <body>
    
            <div class='movie'>
            <span class='title'>The Naked Gun</span>
            <img class='poster' src='https://a.ltrbxd.com/resized/film-poster/9/3/3/3/8/1/933381-the-naked-gun-0-2000-0-3000-crop.jpg?v=6acd6cd210'>
            <span class='rating'>★★★★</span>
        <span class='liked'>♥</span></div>

            <div class='movie'>
            <span class='title'>The Bad Guys 2</span>
            <img class='poster' src='https://a.ltrbxd.com/resized/film-poster/1/0/6/2/7/5/5/1062755-the-bad-guys-2-0-2000-0-3000-crop.jpg?v=4b440733fc'>
            <span class='rating'>★★★</span>
        </div>

            <div class='movie'>
            <span class='title'>Sorry, Baby</span>
            <img class='poster' src='https://a.ltrbxd.com/resized/film-poster/1/0/9/0/4/6/4/1090464-sorry-baby-2025-0-2000-0-3000-crop.jpg?v=c011d7fe20'>
            <span class='rating'>★★★★</span>
        <span class='liked'>♥</span></div>

            <div class='movie'>
            <span class='title'>Ne Zha 2</span>
            <img class='poster' src='https://a.ltrbxd.com/resized/film-poster/8/8/2/7/4/5/882745-ne-zha-2-0-2000-0-3000-crop.jpg?v=b4dc6ec8f9'>
            <span class='rating'>★★★</span>
        <span class='liked'>♥</span></div>

            <div class='movie'>
            <span class='title'>Ocean's Eleven</span>
            <img class='poster' src='https://a.ltrbxd.com/resized/sm/upload/cq/zv/tn/d6/5ZfdSZeP4ZDJwA3Q17SpxV6wBjF-0-2000-0-3000-crop.jpg?v=f958fb5718'>
            <span class='rating'>★★★★★</span>
        <span class='liked'>♥</span><span class='rewatched'>⟳</span></div>

            <div class='movie'>
            <span class='title'>Weapons</span>
            <img class='poster' src='https://a.ltrbxd.com/resized/film-poster/9/7/2/1/0/9/972109-weapons-2025-0-2000-0-3000-crop.jpg?v=8100270337'>
            <span class='rating'>★★★</span>
        </div>

            <div class='movie'>
            <span class='title'>Silver Linings Playbook</span>
            <img class='poster' src='https://a.ltrbxd.com/resized/film-poster/6/9/1/5/1/69151-silver-linings-playbook-0-2000-0-3000-crop.jpg?v=dabe98e003'>
            <span class='rating'>★★★</span>
        <span class='rewatched'>⟳</span></div>

            <div class='movie'>
            <span class='title'>Splitsville</span>
            <img class='poster' src='https://a.ltrbxd.com/resized/film-poster/1/2/3/1/8/0/1/1231801-splitsville-0-2000-0-3000-crop.jpg?v=3852bd06f2'>
            <span class='rating'>★★★★</span>
        <span class='liked'>♥</span></div>
</body>
</html>